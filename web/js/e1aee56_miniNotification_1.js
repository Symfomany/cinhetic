(function(){$(function(){$.miniNotification=function(e,c){var h,f,k,d,g,l,b=this;this.defaults={position:"top",show:!0,effect:"slide",opacity:0.95,time:4E3,showSpeed:600,hideSpeed:450,showEasing:"",hideEasing:"",innerDivClass:"inner",closeButton:!1,closeButtonText:"close",closeButtonClass:"close",hideOnClick:!0,onLoad:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){}};g="";this.settings={};this.$element=$(e);d=function(a){return g=a};f=function(){var a,c;c="slide"===b.getSetting("effect")?
0-b.$element.outerHeight():0;a={};"bottom"===b.getSetting("position")?a.bottom=c:a.top=c;"fade"===b.getSetting("effect")&&(a.opacity=0);return a};k=function(){var a;a={opacity:b.getSetting("opacity")};"bottom"===b.getSetting("position")?a.bottom=0:a.top=0;return a};l=function(){b.$elementInner=$("<div />",{"class":b.getSetting("innerDivClass")});return b.$element.wrapInner(b.$elementInner)};h=function(){var a;a=$("<a />",{"class":b.getSetting("closeButtonClass"),html:b.getSetting("closeButtonText")});
b.$element.children().append(a);return a.bind("click",function(){return b.hide()})};this.getState=function(){return g};this.getSetting=function(a){return this.settings[a]};this.callSettingFunction=function(a){return this.settings[a](e)};this.init=function(){var a=this;d("hidden");this.settings=$.extend({},this.defaults,c);if(this.$element.length&&(l(),this.getSetting("closeButton")&&h(),this.$element.css(f()).css({display:"inline"}),this.getSetting("show")&&this.show(),this.getSetting("hideOnClick")))return this.$element.bind("click",
function(){if("hiding"!==a.getState())return a.hide()})};this.show=function(){var a=this;if("showing"!==this.getState()&&"visible"!==this.getState())return d("showing"),this.callSettingFunction("onLoad"),this.$element.animate(k(),this.getSetting("showSpeed"),this.getSetting("showEasing"),function(){d("visible");a.callSettingFunction("onVisible");return setTimeout(function(){return a.hide()},a.settings.time)})};this.hide=function(){var a=this;if("hiding"!==this.getState()&&"hidden"!==this.getState())return d("hiding"),
this.callSettingFunction("onHide"),this.$element.animate(f(),this.getSetting("hideSpeed"),this.getSetting("hideEasing"),function(){d("hidden");return a.callSettingFunction("onHidden")})};this.init();return this};return $.fn.miniNotification=function(e){return this.each(function(){var c;c=$(this).data("miniNotification");return void 0===c?(c=new $.miniNotification(this,e),$(this).data("miniNotification",c)):c.show()})}})}).call(this);
